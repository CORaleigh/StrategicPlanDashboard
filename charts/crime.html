<html>
<head>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"></script>
  <script type="text/javascript" src="https://vega.github.io/vega/vega.min.js"></script>
  <script type="text/javascript" src="https://npmcdn.com/arcgis-cedar/dist/cedar.js"></script>
</head>
<body>

<div class="row">
  <div style="width: 300px; height: 300px" id="chart"></div>

</div>

<script>
  var chart = new Cedar({"type": "time"});

  var data = Cedar.getJson('https://coraleigh.github.io/StrategicPlanDashboard/charts/crime.json', function(err, data){
    if(!err){

      var dataset = {
        "data": data,
        "mappings":{
          "x": {"field":"year","label":"Fiscal Year"},
          "y": {"field":"crimes","label":"Total Crimes"}
        }
      };
      //assign to the chart
      chart.dataset = dataset;

      //show the chart
      chart.show({
        elementId: "#chart"
      });

    }else{
      console.error('Error loading data from file');
    }
  });


  chart.tooltip = {
    "title": "{Year} FY",
    "content": "{Performance} affordable rental units created"
  };

  //assign to the chart
  chart.dataset = dataset;

  //show the chart
  chart.show({
    elementId: "#chart"
  });

</script>
</body>
</html>
